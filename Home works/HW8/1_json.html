<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JSON</title>
    
<!--/*
  Завдання:
   Написати скрипт який:
     1. Збирає дані з форми (3 різних полів), конвертує їх у json та виводить у консоль.
   -> 2. Зробити окремий інпут, який виконує JSON.parse(); на той рядок, що ви туди ввели і виводить результат у консоль.

  Array.from(HTMLNodeColection); -> Arary

  <form>
    <input name="name" />
    <input name="age"/>
    <input name="password"/>
    <button></button>
  </form>

  <form>
    <input />
    <button></button>
  </form>
  -> '{"name" : !"23123", "age": 15, "password": "*****" }'

*/ -->

</head>
<body>
    <form id="myForm">
        <input name="name" type="text" />
        <input name="age" type="text" />
        <input name="password" type="password" />
        <button id="convertToJSON" type="submit">Convert to JSON</button>
    </form>

    <form id="parseForm">
        <input name="name" type="text"/>
        <button id="parseJSON">Parse JSON</button>
    </form>

   <script>
       document.addEventListener('DOMContentLoaded', () => {
            let myForm = document.getElementById('myForm');
            let convertToJSON = document.getElementById('convertToJSON');

            convertToJSON.addEventListener('click', (e) => {
                e.preventDefault();
                let obj = {};

                let inputsArr = Array.from(myForm.elements).filter( x => x.name !== '');

                inputsArr.forEach( item => {
                    obj[item.name] = item.value;
                })

                console.log(JSON.stringify(obj));
            });

            let parseForm = document.getElementById('parseForm');
            let btnParseJSON = document.getElementById('parseJSON');
            
            btnParseJSON.addEventListener('click', (e) => {
                e.preventDefault();
                console.log(parseForm.name.value);
            })

       });
   </script>
</body>
</html>